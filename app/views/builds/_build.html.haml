%tr.build.alert{class: build_status_alert_class(build)}
  %td.status
    = build.status

  %td.build-link
    = link_to build_url(build) do
      %strong #{build.short_sha}

  %td.build-branch
    - unless @ref
      - if build.tag?
        %span.label.label-primary #{build.ref}
      - else
        %span
          = link_to build.ref, project_path(@project, ref: build.ref)

  %td.build-message
    %span= truncate(build.ref_or_commit_message, length: 50)

  %td.build-message
    - if build.matrix_attributes_formatted
      %code= build.matrix_attributes_formatted

  %td.duration
    - if build.duration
      #{distance_of_time_in_words build.duration}

  %td.timestamp
    - if build.finished_at
      %span #{time_ago_in_words build.finished_at} ago

  - if build.project.coverage_enabled?
    %td.coverage
      - if build.coverage
        #{build.coverage}%
